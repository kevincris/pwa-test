{"version":3,"sources":["webpack:///src/app/discover/offer/investment-confirmation/investment-confirmation.component.ts","webpack:///src/app/discover/offer/product-terms/product-terms.component.html","webpack:///src/app/discover/offer/offer.component.ts","webpack:///src/app/discover/discover.component.html","webpack:///src/app/discover/offer/investment-confirmation/investment-confirmation.component.html","webpack:///src/app/discover/discover.component.ts","webpack:///src/app/discover/user-allocations/user-allocations.component.ts","webpack:///node_modules/ease-component/index.js","webpack:///src/app/discover/offer/offer.component.html","webpack:///src/app/discover/user-allocations/user-allocations.component.html","webpack:///src/app/discover/offer/product-terms/product-terms.component.ts","webpack:///src/app/discover/discover.module.ts","webpack:///src/app/discover/discover-routing.module.ts","webpack:///node_modules/scroll/index.js"],"names":["InvestmentConfirmationComponent","modal","tokenService","session","sgpmxService","translate","intercom","toStartCase","buildFileUrl","faFileAlt","documentsRead","amount","convert","transaction","currency","product","fundingCurrency","price","div","toString","selector","template","OfferComponent","route","http","ngbModal","router","contentBlurred","faCaretRight","currencies","allocation","baseTransaction","type","subscriptions","paramMap","subscribe","params","open","windowClass","backdrop","keyboard","component","componentInstance","contentRetrievedEvent","contentStream","asObservable","result","then","navigate","get","pipe","next","terms","id","files","file","productFile","purpose","counterWallet","add","userStream","user","baseWallet","limit","response","data","length","unsubscribe","offerForm","invalid","onConfirm","post","code","isCompleted","onViewTransactions","close","isSubmitted","reset","DiscoverComponent","productTypes","apiUrl","apiQuery","defaultQuery","UserAllocationsComponent","faEllipsisV","faCreditCardFront","faClipboardCheck","faTruck","faShoppingCart","status","undefined","_","exports","linear","n","inQuad","outQuad","inOutQuad","inCube","outCube","inOutCube","inQuart","outQuart","inOutQuart","inQuint","outQuint","inOutQuint","inSine","Math","cos","PI","outSine","sin","inOutSine","inExpo","pow","outExpo","inOutExpo","inCirc","sqrt","outCirc","inOutCirc","inBack","s","outBack","inOutBack","inBounce","outBounce","inOutBounce","ease","scroll","ProductTermsComponent","element","toastr","activeModal","isDown","isLoaded","scrollHandler","modalContainer","scrollTop","scrollHeight","offsetHeight","setTimeout","nativeElement","querySelector","addEventListener","removeEventListener","top","clientHeight","duration","warning","instant","DiscoverModule","declarations","imports","routes","path","canActivate","children","DiscoverRoutingModule","forChild","E_NOSCROLL","Error","E_CANCELLED","min","ms","Date","now","module","left","make","prop","el","to","opts","cb","noop","start","from","isNaN","cancelled","requestAnimationFrame","animate","cancel","timestamp","time","eased"],"mappings":"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","file":"discover-discover-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core'\nimport { faFileAlt } from '@fortawesome/pro-regular-svg-icons'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { TranslateService } from '@ngx-translate/core'\nimport BigNumber from 'bignumber.js'\nimport { SgpmxService } from 'src/app/common/services/sgpmx.service'\nimport { File, Product, ProductFile } from '../../../common/api-interfaces'\nimport { toStartCase } from '../../../common/common.mixin'\nimport { buildFileUrl } from '../../../common/file'\nimport { Currency } from '../../../common/models/accounting/currency.model'\nimport { PaymentConfirmationComponent } from '../../../common/payment/payment-confirmation/payment-confirmation.component'\nimport { IntercomService } from '../../../common/services/intercom.service'\nimport { SessionService } from '../../../common/services/session.service'\nimport { TokenService } from '../../../common/services/token.service'\n\n@Component({\n    selector: 'investment-confirmation',\n    templateUrl: 'investment-confirmation.component.html',\n})\nexport class InvestmentConfirmationComponent extends PaymentConfirmationComponent implements OnInit {\n    public toStartCase = toStartCase\n    public buildFileUrl = buildFileUrl\n    public faFileAlt = faFileAlt\n    public product: Product\n    public files: (File & { productFile: ProductFile })[]\n    public documentsRead = false\n    public amount: string\n\n    constructor(\n        modal: NgbActiveModal,\n        tokenService: TokenService,\n        session: SessionService,\n        sgpmxService: SgpmxService,\n        translate: TranslateService,\n        public intercom: IntercomService\n    ) {\n        super(modal, tokenService, session, sgpmxService, translate)\n    }\n\n    public ngOnInit(): void {\n        super.ngOnInit()\n        this.amount = Currency.convert(this.transaction.amount, this.transaction.currency, this.product.fundingCurrency)\n    }\n\n    public calculateQuantity(amount: string, price: string): string {\n        return new BigNumber(amount).div(price).toString()\n    }\n}\n","export default \"<div class=\\\"modal-header\\\">\\n    <h5 class=\\\"modal-title\\\">{{ 'common.terms-of-investment' | translate }}</h5>\\n    <button type=\\\"button\\\" class=\\\"btn btn-round close close-modal\\\" (click)=\\\"activeModal.dismiss()\\\">&times;</button>\\n</div>\\n<div class=\\\"modal-subheader\\\">{{ 'common.you-must-accept-the-terms-to-view' | translate }}</div>\\n<div class=\\\"modal-body terms-container text-body\\\">\\n    <ng-container *ngIf=\\\"contentStream | async as content; else loadingContent\\\">\\n        <div [innerHtml]=\\\"content | safeHtml\\\"></div>\\n    </ng-container>\\n    <ng-template #loadingContent>\\n        <svg class=\\\"spinner spinner-dark\\\" viewBox=\\\"0 0 50 50\\\">\\n            <circle class=\\\"path\\\" cx=\\\"25\\\" cy=\\\"25\\\" r=\\\"20\\\" fill=\\\"none\\\" stroke-width=\\\"5\\\"></circle>\\n        </svg>\\n        <p class=\\\"mb-0 mt-5 text-center\\\">{{ 'common.loading-terms' | translate }}</p>\\n    </ng-template>\\n</div>\\n<div class=\\\"modal-footer flex-column flex-md-row justify-content-center justify-content-md-end\\\">\\n    <button class=\\\"btn btn-link mr-md-auto mb-2 mb-md-0\\\" (click)=\\\"scrollDown()\\\">{{ 'common.scroll-to-bottom' | translate }}</button>\\n    <div class=\\\"d-flex justify-content-end\\\">\\n        <button class=\\\"btn btn-default btn-w-sm\\\" (click)=\\\"activeModal.dismiss()\\\">{{ 'common.decline' | translate }}</button>\\n        <button class=\\\"btn btn-primary btn-w-sm ml-1\\\" (click)=\\\"accept()\\\" [disabled]=\\\"!isDown\\\">{{ 'common.accept' | translate }}</button>\\n    </div>\\n</div>\\n\";","import { HttpClient } from '@angular/common/http'\nimport { Component, OnDestroy, OnInit, ViewChild } from '@angular/core'\nimport { NgForm } from '@angular/forms'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { faFileAlt } from '@fortawesome/pro-regular-svg-icons'\nimport { faCaretRight } from '@fortawesome/pro-solid-svg-icons'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { sortBy } from 'lodash'\nimport { forkJoin, of, Subject, Subscription } from 'rxjs'\nimport { flatMap, tap } from 'rxjs/operators'\nimport {\n    Allocation,\n    File,\n    ICurrency,\n    IUser,\n    Paginated,\n    Product,\n    ProductFile,\n    Transaction,\n    Wallet,\n} from '../../common/api-interfaces'\nimport { toStartCase } from '../../common/common.mixin'\nimport { buildFileUrl } from '../../common/file'\nimport { User } from '../../common/models/core/user.model'\nimport { SessionService } from '../../common/services/session.service'\nimport { InvestmentConfirmationComponent } from './investment-confirmation/investment-confirmation.component'\nimport { ProductTermsComponent } from './product-terms/product-terms.component'\n\n@Component({\n    selector: 'offer',\n    templateUrl: 'offer.component.html',\n})\nexport class OfferComponent implements OnInit, OnDestroy {\n    public contentBlurred = true\n    public toStartCase = toStartCase\n    public buildFileUrl = buildFileUrl\n    public faFileAlt = faFileAlt\n    public faCaretRight = faCaretRight\n    public currencies: ICurrency[] = []\n    public product: Product\n    public files: (File & { productFile: ProductFile })[]\n\n    public allocation: Partial<Allocation> = {\n        baseTransaction: {\n            type: 'investment',\n        } as Transaction,\n        product: {} as Product,\n    }\n\n    @ViewChild('offerForm')\n    public offerForm: NgForm\n\n    private subscriptions = new Subscription()\n\n    constructor(\n        private route: ActivatedRoute,\n        private http: HttpClient,\n        private ngbModal: NgbModal,\n        private session: SessionService,\n        private router: Router\n    ) {}\n\n    public ngOnInit(): void {\n        this.route.paramMap.subscribe(params => {\n            const modal = this.ngbModal.open(ProductTermsComponent, {\n                windowClass: 'modal-primary',\n                backdrop: 'static',\n                keyboard: false,\n            })\n            const component = modal.componentInstance as ProductTermsComponent\n            const contentRetrievedEvent = new Subject<string | null>()\n            component.contentStream = contentRetrievedEvent.asObservable()\n            modal.result\n                .then(() => {\n                    this.contentBlurred = false\n                })\n                .catch(() => {\n                    this.router.navigate(['/discover'])\n                })\n\n            this.http\n                .get<Product>(`/products/${params.get('productSlug')}`)\n                .pipe(\n                    tap(product => {\n                        contentRetrievedEvent.next(product.terms || null)\n                    }),\n                    flatMap(product =>\n                        forkJoin([\n                            of(product),\n                            this.http.get<(File & { productFile: ProductFile })[]>(`/products/${product.id}/files`),\n                        ])\n                    )\n                )\n                .subscribe(([product, files]) => {\n                    this.product = product\n                    this.files = sortBy(files, file => file.productFile.purpose)\n                    this.allocation.product!.id = product.id\n                    this.allocation.baseTransaction!.counterWallet = {\n                        product,\n                    } as Wallet\n                })\n\n            this.subscriptions.add(\n                this.session.userStream.subscribe(user => {\n                    this.allocation.baseTransaction!.baseWallet = {\n                        user: new User(user) as IUser,\n                    } as Wallet\n                    this.allocation.user = new User(user) as IUser\n                })\n            )\n        })\n\n        this.http\n            .get<Paginated<ICurrency>>('/currencies', {\n                params: {\n                    limit: 100 + '',\n                    'filter.type': 'fiat',\n                },\n            })\n            .subscribe(response => {\n                this.currencies = response.data\n                if (this.currencies.length) {\n                    this.allocation.baseTransaction!.currency = this.currencies[0]\n                }\n            })\n    }\n\n    public ngOnDestroy(): void {\n        this.subscriptions.unsubscribe()\n    }\n\n    public submit(): void {\n        if (this.offerForm.invalid) {\n            return\n        }\n        const modal = this.ngbModal.open(InvestmentConfirmationComponent, {\n            windowClass: 'modal-primary',\n            backdrop: 'static',\n            keyboard: false,\n        })\n        const component = modal.componentInstance as InvestmentConfirmationComponent\n        component.transaction = this.allocation.baseTransaction!\n        component.product = this.product\n        component.files = this.files\n\n        component.onConfirm.subscribe(() => {\n            this.http\n                .post<Allocation>('/allocations', {\n                    baseTransaction: {\n                        amount: this.allocation.baseTransaction!.amount + '',\n                        currency: { code: this.allocation.baseTransaction!.currency.code },\n                    },\n                    product: { id: this.allocation.product!.id },\n                    user: this.allocation.user ? { id: this.allocation.user!.id } : null,\n                })\n                .subscribe(\n                    () => {\n                        component.isCompleted = true\n                        component.onViewTransactions.subscribe(() => {\n                            modal.close()\n                            return this.router.navigate(['/discover/investments'])\n                        })\n                    },\n                    () => {\n                        component.isSubmitted = false\n                        component.reset()\n                    }\n                )\n        })\n    }\n}\n","export default \"<div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-24\\\">\\n            <h3 class=\\\"font-weight-light text-center my-4\\\">{{ 'common.exclusive-investment-opportunities' | translate }}</h3>\\n            <div class=\\\"tab-nav mb-4\\\">\\n                <a\\n                    href\\n                    class=\\\"tab-nav-item text-capitalize\\\"\\n                    (click)=\\\"$event.preventDefault(); queryParams = getDefaultQuery(); searchEvent.next()\\\"\\n                    [ngClass]=\\\"{ active: isActiveQuery(getDefaultQuery()) }\\\"\\n                >\\n                    {{ 'common.all' | translate }}\\n                </a>\\n                <a\\n                    href\\n                    class=\\\"tab-nav-item text-capitalize\\\"\\n                    *ngFor=\\\"let type of productTypes\\\"\\n                    (click)=\\\"$event.preventDefault(); queryParams['type']['eq'] = type; searchEvent.next()\\\"\\n                    [ngClass]=\\\"{ active: isActiveQuery({ type: { eq: [type] } }) }\\\"\\n                >\\n                    {{ 'common.' + type | translate }}\\n                </a>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div class=\\\"pb-5\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-24\\\">\\n                <ng-container *ngIf=\\\"itemsStream | async as items\\\">\\n                    <div class=\\\"grid\\\">\\n                        <div class=\\\"cell\\\" *ngFor=\\\"let product of items\\\">\\n                            <div class=\\\"product-box\\\">\\n                                <a [routerLink]=\\\"['/discover', product.slug]\\\">\\n                                    <img [src]=\\\"buildFileUrl(product.image) | safeUrl\\\" />\\n                                    <div class=\\\"investment-badges\\\">\\n                                        <span class=\\\"type-badge\\\">{{ product.type }}</span>\\n                                    </div>\\n                                </a>\\n                                <div class=\\\"product-box-body\\\">\\n                                    <div class=\\\"product-box-title\\\">{{ product.slogan }}</div>\\n                                    <p class=\\\"product-box-text\\\">{{ product.summary | truncate: true:140 }}</p>\\n                                    <a class=\\\"btn btn-primary\\\" [routerLink]=\\\"['/discover', product.slug]\\\">{{ 'common.view-offer' | translate }}</a>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </ng-container>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"modal-header\\\">\\n    <h5 class=\\\"modal-title\\\">{{ 'common.confirm-investment' | translate }}</h5>\\n    <button type=\\\"button\\\" class=\\\"btn btn-round close close-modal\\\" (click)=\\\"modal.dismiss()\\\">&times;</button>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <ng-container *ngIf=\\\"!isSubmitted; else loader\\\">\\n        <p *ngIf=\\\"transaction.currency?.code !== product.fundingCurrency?.code\\\">\\n            {{ 'common.your' | translate }} <span class=\\\"text-primary\\\">{{ transaction.amount }} {{ transaction.currency?.code }}</span>\\n            {{ 'common.will-be-converted-to' | translate }}\\n            <span class=\\\"text-primary\\\">~ {{ amount | amount }} {{ product.fundingCurrency?.code }}</span\\n            >.\\n        </p>\\n        <table class=\\\"table table-borderless\\\">\\n            <thead>\\n                <tr>\\n                    <th scope=\\\"col\\\" class=\\\"font-weight-bold b-t-0\\\">{{ 'common.description' | translate }}</th>\\n                    <th scope=\\\"col\\\" class=\\\"font-weight-bold text-center b-t-0\\\">Qty.</th>\\n                    <th scope=\\\"col\\\" class=\\\"font-weight-bold w-25 text-right b-t-0\\\">{{ 'common.price' | translate }}</th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                <tr>\\n                    <td class=\\\"text-primary\\\">{{ product?.name }} ({{ product?.currency?.code }})</td>\\n                    <td class=\\\"text-center\\\">\\n                        {{ calculateQuantity(amount, product?.currency?.exchangeRate) | number: '1.0-' + transaction.currency.decimalPlaces }}\\n                    </td>\\n                    <td class=\\\"text-right\\\">{{ product?.currency?.exchangeRate | amount }} {{ product.fundingCurrency?.code }}</td>\\n                </tr>\\n                <tr>\\n                    <td colspan=\\\"2\\\" class=\\\"text-right\\\">{{ 'common.subtotal' | translate }}</td>\\n                    <td class=\\\"text-right\\\">{{ amount | amount }} {{ product.fundingCurrency?.code }}</td>\\n                </tr>\\n                <tr>\\n                    <td colspan=\\\"2\\\" class=\\\"text-right b-t-0\\\">VAT</td>\\n                    <td class=\\\"text-right b-t-0\\\">0.00 {{ product.fundingCurrency?.code }}</td>\\n                </tr>\\n                <tr>\\n                    <td colspan=\\\"2\\\" class=\\\"text-right b-t-0 font-weight-bold\\\">{{ 'common.total' | translate }}</td>\\n                    <td class=\\\"text-right b-t-0 font-weight-bold text-primary\\\">{{ amount | amount }} {{ product.fundingCurrency?.code }}</td>\\n                </tr>\\n            </tbody>\\n        </table>\\n        <h6 class=\\\"text-muted\\\">{{ 'common.product-related-documents' | translate }}:</h6>\\n        <div class=\\\"list-group\\\">\\n            <a class=\\\"list-group-item list-group-item-action\\\" [href]=\\\"buildFileUrl(file)\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" *ngFor=\\\"let file of files\\\">\\n                <fa-icon [icon]=\\\"faFileAlt\\\" class=\\\"text-primary mr-2\\\"></fa-icon>\\n                <span>{{ toStartCase(file.productFile.purpose) }}</span>\\n            </a>\\n        </div>\\n        <label class=\\\"custom-control custom-checkbox my-3 mx-2\\\">\\n            <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" name=\\\"documentsRead\\\" [(ngModel)]=\\\"documentsRead\\\" />\\n            <span class=\\\"custom-control-label font-md\\\"\\n                >{{ 'common.in-submitting-investment' | translate }} <b>{{ 'common.product-related-documents' | translate | lowercase }}.</b></span\\n            >\\n        </label>\\n        <form class=\\\"form-validation\\\" #passwordForm=\\\"ngForm\\\" (ngSubmit)=\\\"submit()\\\" novalidate>\\n            <div class=\\\"alert alert-danger\\\" *ngIf=\\\"alert\\\">\\n                {{ alert }}\\n            </div>\\n            <div class=\\\"form-group\\\" *ngIf=\\\"!showTwoFactorForm\\\">\\n                <div class=\\\"input-group input-group-lg\\\">\\n                    <span class=\\\"input-group-prepend\\\">\\n                        <span class=\\\"input-group-text\\\">\\n                            <fa-icon [icon]=\\\"faLockAlt\\\"></fa-icon>\\n                        </span>\\n                    </span>\\n                    <input\\n                        type=\\\"password\\\"\\n                        class=\\\"form-control\\\"\\n                        name=\\\"password\\\"\\n                        [placeholder]=\\\"'common.enter-your-password' | translate\\\"\\n                        [(ngModel)]=\\\"password\\\"\\n                        [focus]=\\\"true\\\"\\n                        required\\n                    />\\n                </div>\\n            </div>\\n            <div class=\\\"form-group\\\" *ngIf=\\\"showTwoFactorForm\\\">\\n                <div class=\\\"input-group input-group-lg\\\">\\n                    <span class=\\\"input-group-prepend\\\">\\n                        <span class=\\\"input-group-text\\\">\\n                            <fa-icon [icon]=\\\"faMobile\\\"></fa-icon>\\n                        </span>\\n                    </span>\\n                    <input\\n                        type=\\\"text\\\"\\n                        class=\\\"form-control\\\"\\n                        name=\\\"twoFactorCode\\\"\\n                        [placeholder]=\\\"'common.enter-2fa-code' | translate\\\"\\n                        number\\n                        [(ngModel)]=\\\"twoFactorCode\\\"\\n                        [focus]=\\\"true\\\"\\n                        required\\n                    />\\n                </div>\\n            </div>\\n            <button\\n                type=\\\"submit\\\"\\n                class=\\\"btn btn-lg btn-block btn-primary\\\"\\n                [ngClass]=\\\"{ loading: isLoading }\\\"\\n                [disabled]=\\\"!passwordForm.valid || isLoading || !documentsRead\\\"\\n            >\\n                {{ 'common.confirm' | translate }}\\n            </button>\\n        </form>\\n    </ng-container>\\n    <ng-template #loader>\\n        <div class=\\\"circle-loader\\\" [ngClass]=\\\"{ 'load-complete': isCompleted }\\\">\\n            <div class=\\\"checkmark draw\\\"></div>\\n        </div>\\n        <h4 class=\\\"text-center text-primary\\\">\\n            {{ !isCompleted ? ('common.requesting-investment' | translate) + '...' : ('common.your-investment-has-been-requested' | translate) }}\\n        </h4>\\n        <button\\n            type=\\\"button\\\"\\n            class=\\\"btn btn-lg btn-block btn-primary-air\\\"\\n            (click)=\\\"onViewTransactions.emit()\\\"\\n            [disabled]=\\\"isSubmitted && !isCompleted\\\"\\n        >\\n            {{ 'common.view-investment' | translate }}\\n        </button>\\n    </ng-template>\\n</div>\\n\";","import { Component } from '@angular/core'\nimport { Product, ProductType } from '../common/api-interfaces'\nimport { buildFileUrl } from '../common/file'\nimport { ListComponent } from '../common/list.component'\n\n@Component({\n    selector: 'discover',\n    templateUrl: 'discover.component.html',\n})\nexport class DiscoverComponent extends ListComponent<Product> {\n    public buildFileUrl = buildFileUrl\n    public productTypes: ProductType[] = ['bond', 'loan', 'option', 'property', 'share', 'unit']\n    protected apiUrl = '/products'\n    protected apiQuery = ['type']\n    protected defaultQuery = { type: {} }\n}\n","import { HttpResponse } from '@angular/common/http'\nimport { Component } from '@angular/core'\nimport { faClipboardCheck, faCreditCardFront, faShoppingCart, faTruck } from '@fortawesome/pro-light-svg-icons'\nimport { faEllipsisV } from '@fortawesome/pro-regular-svg-icons'\nimport { Observable, of } from 'rxjs'\nimport { flatMap, tap, withLatestFrom } from 'rxjs/operators'\nimport { AllocationsComponent } from '../../common/allocations/allocations.component'\nimport { IUser } from '../../common/api-interfaces'\nimport { buildFileUrl } from '../../common/file'\nimport { User } from '../../common/models/core/user.model'\n\n@Component({\n    selector: 'user-allocations',\n    templateUrl: 'user-allocations.component.html',\n})\nexport class UserAllocationsComponent extends AllocationsComponent {\n    public faEllipsisV = faEllipsisV\n    public faCreditCardFront = faCreditCardFront\n    public faClipboardCheck = faClipboardCheck\n    public faTruck = faTruck\n    public faShoppingCart = faShoppingCart\n    public buildFileUrl = buildFileUrl\n    public user: IUser | null\n\n    protected apiQuery = ['status']\n    protected defaultQuery = { status: {} }\n\n    public find(): Observable<HttpResponse<any[]>> {\n        return of(undefined).pipe(\n            withLatestFrom(this.session.userStream),\n            tap(([_, user]) => {\n                this.user = new User(user)\n                this.apiUrl = `/users/${user.id}/allocations`\n            }),\n            flatMap(() => super.find())\n        )\n    }\n}\n","\n// easing functions from \"Tween.js\"\n\nexports.linear = function(n){\n  return n;\n};\n\nexports.inQuad = function(n){\n  return n * n;\n};\n\nexports.outQuad = function(n){\n  return n * (2 - n);\n};\n\nexports.inOutQuad = function(n){\n  n *= 2;\n  if (n < 1) return 0.5 * n * n;\n  return - 0.5 * (--n * (n - 2) - 1);\n};\n\nexports.inCube = function(n){\n  return n * n * n;\n};\n\nexports.outCube = function(n){\n  return --n * n * n + 1;\n};\n\nexports.inOutCube = function(n){\n  n *= 2;\n  if (n < 1) return 0.5 * n * n * n;\n  return 0.5 * ((n -= 2 ) * n * n + 2);\n};\n\nexports.inQuart = function(n){\n  return n * n * n * n;\n};\n\nexports.outQuart = function(n){\n  return 1 - (--n * n * n * n);\n};\n\nexports.inOutQuart = function(n){\n  n *= 2;\n  if (n < 1) return 0.5 * n * n * n * n;\n  return -0.5 * ((n -= 2) * n * n * n - 2);\n};\n\nexports.inQuint = function(n){\n  return n * n * n * n * n;\n}\n\nexports.outQuint = function(n){\n  return --n * n * n * n * n + 1;\n}\n\nexports.inOutQuint = function(n){\n  n *= 2;\n  if (n < 1) return 0.5 * n * n * n * n * n;\n  return 0.5 * ((n -= 2) * n * n * n * n + 2);\n};\n\nexports.inSine = function(n){\n  return 1 - Math.cos(n * Math.PI / 2 );\n};\n\nexports.outSine = function(n){\n  return Math.sin(n * Math.PI / 2);\n};\n\nexports.inOutSine = function(n){\n  return .5 * (1 - Math.cos(Math.PI * n));\n};\n\nexports.inExpo = function(n){\n  return 0 == n ? 0 : Math.pow(1024, n - 1);\n};\n\nexports.outExpo = function(n){\n  return 1 == n ? n : 1 - Math.pow(2, -10 * n);\n};\n\nexports.inOutExpo = function(n){\n  if (0 == n) return 0;\n  if (1 == n) return 1;\n  if ((n *= 2) < 1) return .5 * Math.pow(1024, n - 1);\n  return .5 * (-Math.pow(2, -10 * (n - 1)) + 2);\n};\n\nexports.inCirc = function(n){\n  return 1 - Math.sqrt(1 - n * n);\n};\n\nexports.outCirc = function(n){\n  return Math.sqrt(1 - (--n * n));\n};\n\nexports.inOutCirc = function(n){\n  n *= 2\n  if (n < 1) return -0.5 * (Math.sqrt(1 - n * n) - 1);\n  return 0.5 * (Math.sqrt(1 - (n -= 2) * n) + 1);\n};\n\nexports.inBack = function(n){\n  var s = 1.70158;\n  return n * n * (( s + 1 ) * n - s);\n};\n\nexports.outBack = function(n){\n  var s = 1.70158;\n  return --n * n * ((s + 1) * n + s) + 1;\n};\n\nexports.inOutBack = function(n){\n  var s = 1.70158 * 1.525;\n  if ( ( n *= 2 ) < 1 ) return 0.5 * ( n * n * ( ( s + 1 ) * n - s ) );\n  return 0.5 * ( ( n -= 2 ) * n * ( ( s + 1 ) * n + s ) + 2 );\n};\n\nexports.inBounce = function(n){\n  return 1 - exports.outBounce(1 - n);\n};\n\nexports.outBounce = function(n){\n  if ( n < ( 1 / 2.75 ) ) {\n    return 7.5625 * n * n;\n  } else if ( n < ( 2 / 2.75 ) ) {\n    return 7.5625 * ( n -= ( 1.5 / 2.75 ) ) * n + 0.75;\n  } else if ( n < ( 2.5 / 2.75 ) ) {\n    return 7.5625 * ( n -= ( 2.25 / 2.75 ) ) * n + 0.9375;\n  } else {\n    return 7.5625 * ( n -= ( 2.625 / 2.75 ) ) * n + 0.984375;\n  }\n};\n\nexports.inOutBounce = function(n){\n  if (n < .5) return exports.inBounce(n * 2) * .5;\n  return exports.outBounce(n * 2 - 1) * .5 + .5;\n};\n\n// aliases\n\nexports['in-quad'] = exports.inQuad;\nexports['out-quad'] = exports.outQuad;\nexports['in-out-quad'] = exports.inOutQuad;\nexports['in-cube'] = exports.inCube;\nexports['out-cube'] = exports.outCube;\nexports['in-out-cube'] = exports.inOutCube;\nexports['in-quart'] = exports.inQuart;\nexports['out-quart'] = exports.outQuart;\nexports['in-out-quart'] = exports.inOutQuart;\nexports['in-quint'] = exports.inQuint;\nexports['out-quint'] = exports.outQuint;\nexports['in-out-quint'] = exports.inOutQuint;\nexports['in-sine'] = exports.inSine;\nexports['out-sine'] = exports.outSine;\nexports['in-out-sine'] = exports.inOutSine;\nexports['in-expo'] = exports.inExpo;\nexports['out-expo'] = exports.outExpo;\nexports['in-out-expo'] = exports.inOutExpo;\nexports['in-circ'] = exports.inCirc;\nexports['out-circ'] = exports.outCirc;\nexports['in-out-circ'] = exports.inOutCirc;\nexports['in-back'] = exports.inBack;\nexports['out-back'] = exports.outBack;\nexports['in-out-back'] = exports.inOutBack;\nexports['in-bounce'] = exports.inBounce;\nexports['out-bounce'] = exports.outBounce;\nexports['in-out-bounce'] = exports.inOutBounce;\n","export default \"<div [ngClass]=\\\"{ blurred: contentBlurred }\\\">\\n    <section class=\\\"bg-white space-sm\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-lg-14 mb-4 mb-sm-0\\\">\\n                    <img [src]=\\\"buildFileUrl($any(product.image))\\\" class=\\\"rounded img-fluid\\\" *ngIf=\\\"product?.image\\\" />\\n                </div>\\n                <div class=\\\"col-lg-9 d-flex flex-column justify-content-between mx-auto\\\">\\n                    <div>\\n                        <h1 class=\\\"mb-2\\\">{{ product?.name }}</h1>\\n                        <h2 class=\\\"lead\\\">{{ product?.slogan }}</h2>\\n                    </div>\\n                    <div>\\n                        <table class=\\\"table table-sm table-borderless mb-0\\\">\\n                            <tbody>\\n                                <tr>\\n                                    <th class=\\\"pb-1 px-0 text-label\\\" scope=\\\"row\\\">{{ 'common.product-type' | translate }}:</th>\\n                                    <td class=\\\"text-right px-0 text-capitalize\\\">\\n                                        {{ product?.type }}\\n                                    </td>\\n                                </tr>\\n                                <tr>\\n                                    <th class=\\\"pb-1 px-0 text-label\\\" scope=\\\"row\\\">{{ 'common.minimum-investment' | translate }}:</th>\\n                                    <td class=\\\"text-right text-primary px-0\\\">\\n                                        {{ product?.minimumInvestment | number: '1.0-0' }} {{ product?.fundingCurrency?.code }}\\n                                    </td>\\n                                </tr>\\n                                <tr>\\n                                    <th class=\\\"pb-1 px-0 text-label\\\" scope=\\\"row\\\">{{ 'common.opening-date' | translate }}:</th>\\n                                    <td class=\\\"text-right px-0\\\">{{ product?.openingDate | date: 'longDate' }}</td>\\n                                </tr>\\n                                <tr>\\n                                    <th class=\\\"pb-1 px-0 text-label\\\" scope=\\\"row\\\">{{ 'common.closing-date' | translate }}:</th>\\n                                    <td class=\\\"text-right px-0\\\">{{ product?.closingDate | date: 'longDate' }}</td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                    </div>\\n                    <div>\\n                        <form\\n                            class=\\\"form-validation\\\"\\n                            #offerForm=\\\"ngForm\\\"\\n                            (ngSubmit)=\\\"submit()\\\"\\n                            [ngClass]=\\\"{ 'ng-submitted': offerForm.submitted }\\\"\\n                            autocomplete=\\\"false\\\"\\n                            novalidate\\n                        >\\n                            <div class=\\\"row\\\">\\n                                <div class=\\\"form-group col-sm-12\\\">\\n                                    <label class=\\\"font-md\\\" for=\\\"amount\\\">{{ 'common.amount' | translate }}</label>\\n                                    <input\\n                                        type=\\\"number\\\"\\n                                        class=\\\"form-control form-control-lg\\\"\\n                                        id=\\\"amount\\\"\\n                                        name=\\\"amount\\\"\\n                                        [placeholder]=\\\"'0.' + '0'.repeat($any(allocation.baseTransaction).currency?.decimalPlaces)\\\"\\n                                        [(ngModel)]=\\\"$any(allocation.baseTransaction).amount\\\"\\n                                        #amount=\\\"ngModel\\\"\\n                                        required\\n                                    />\\n                                    <div *ngIf=\\\"amount.invalid && (offerForm.submitted || amount.dirty)\\\" class=\\\"error-messages\\\">\\n                                        <div class=\\\"form-control-feedback\\\" *ngIf=\\\"amount?.errors?.required\\\">\\n                                            {{ 'common.this-is-required' | translate }}\\n                                        </div>\\n                                        <div class=\\\"form-control-feedback\\\" *ngIf=\\\"amount?.errors?.max\\\">\\n                                            {{ 'common.amount-exceeds-maximum' | translate }}.\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"form-group col-sm-12\\\">\\n                                    <label class=\\\"font-md\\\" for=\\\"currency\\\">{{ 'common.currency' | translate }}</label>\\n                                    <currency-select\\n                                        [(currency)]=\\\"$any(allocation.baseTransaction).currency\\\"\\n                                        [isLarge]=\\\"true\\\"\\n                                        [required]=\\\"true\\\"\\n                                        [currencyTypes]=\\\"['fiat']\\\"\\n                                    ></currency-select>\\n                                </div>\\n                            </div>\\n                            <button type=\\\"submit\\\" class=\\\"btn btn-success btn-lg btn-block\\\">{{ 'common.invest-now' | translate }}</button>\\n                        </form>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </section>\\n    <section class=\\\"space-sm\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row justify-content-between\\\">\\n                <div class=\\\"col-24 col-md-16 col-lg-14\\\">\\n                    <h5 class=\\\"mb-4\\\">{{ 'common.overview' | translate }}</h5>\\n                    <article *ngIf=\\\"product\\\" [innerHtml]=\\\"product.content || ''\\\"></article>\\n                    <hr />\\n                    <h5 class=\\\"mb-3\\\">{{ 'common.disclaimer' | translate }}</h5>\\n                    <article>\\n                        <p class=\\\"font-sm text-gray\\\">\\n                            {{ 'offer.investing-in-private' | translate }}\\n                        </p>\\n                        <p class=\\\"font-sm text-gray\\\">\\n                            {{ 'offer.we-are-targeted' | translate }}\\n                        </p>\\n                    </article>\\n                </div>\\n                <div class=\\\"col-24 col-md-8\\\">\\n                    <div class=\\\"card\\\">\\n                        <div class=\\\"card-header\\\">\\n                            <h6>{{ 'common.downloads' | translate }}</h6>\\n                        </div>\\n                        <div class=\\\"card-body\\\">\\n                            <ul class=\\\"list-unstyled\\\">\\n                                <li class=\\\"mb-2\\\" *ngFor=\\\"let file of files\\\">\\n                                    <fa-icon [icon]=\\\"faFileAlt\\\" class=\\\"text-muted mr-2\\\"></fa-icon>\\n                                    <a [href]=\\\"buildFileUrl(file)\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">{{ toStartCase(file.productFile.purpose) }}</a>\\n                                </li>\\n                            </ul>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </section>\\n</div>\\n\";","export default \"<div class=\\\"container pt-page pb-3\\\">\\n    <div class=\\\"row justify-content-between align-items-center pb-2\\\">\\n        <div class=\\\"col-auto\\\">\\n            <h5 class=\\\"mb-0\\\">{{ 'common.investments' | translate }}</h5>\\n        </div>\\n        <div class=\\\"col-auto d-flex justify-content-end\\\">\\n            <ol class=\\\"breadcrumb px-0\\\">\\n                <li class=\\\"breadcrumb-item\\\">\\n                    <a [routerLink]=\\\"['/dashboard']\\\">{{ 'common.home' | translate }}</a>\\n                </li>\\n                <li class=\\\"breadcrumb-item\\\">\\n                    <a [routerLink]=\\\"['/discover']\\\">{{ 'common.discover' | translate }}</a>\\n                </li>\\n                <li class=\\\"breadcrumb-item active\\\">{{ 'common.investments' | translate }}</li>\\n            </ol>\\n        </div>\\n    </div>\\n    <div class=\\\"row justify-content-between align-items-center\\\">\\n        <div class=\\\"col\\\">\\n            <button\\n                type=\\\"button\\\"\\n                class=\\\"btn mr-2\\\"\\n                (click)=\\\"queryParams = getDefaultQuery(); searchEvent.next()\\\"\\n                [ngClass]=\\\"isActiveQuery(getDefaultQuery()) ? 'btn-primary' : 'btn-primary-air'\\\"\\n            >\\n                {{ 'common.all' | translate }}\\n            </button>\\n            <div class=\\\"btn-group mr-2\\\">\\n                <button\\n                    type=\\\"button\\\"\\n                    class=\\\"btn\\\"\\n                    (click)=\\\"queryParams['status']['or'] = ['pending']; searchEvent.next()\\\"\\n                    [ngClass]=\\\"isActiveQuery({ status: { or: ['pending'] } }) ? 'btn-primary' : 'btn-primary-air'\\\"\\n                >\\n                    {{ 'common.pending' | translate }}\\n                </button>\\n                <button\\n                    type=\\\"button\\\"\\n                    class=\\\"btn\\\"\\n                    (click)=\\\"queryParams['status']['or'] = ['completed']; searchEvent.next()\\\"\\n                    [ngClass]=\\\"isActiveQuery({ status: { or: ['completed'] } }) ? 'btn-primary' : 'btn-primary-air'\\\"\\n                >\\n                    {{ 'common.completed' | translate }}\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div class=\\\"container mb-3\\\">\\n    <div class=\\\"card\\\">\\n        <div class=\\\"card-header b-b-0\\\">{{ 'common.investments' | translate }}</div>\\n        <div class=\\\"table-responsive\\\">\\n            <table class=\\\"table table-hover table-card\\\">\\n                <thead class=\\\"thead-light\\\">\\n                    <tr>\\n                        <th scope=\\\"col\\\">{{ 'common.name' | translate }}</th>\\n                        <th scope=\\\"col\\\">{{ 'common.progress' | translate }}</th>\\n                        <th scope=\\\"col\\\">{{ 'user-allocations.invested' | translate }}</th>\\n                        <th scope=\\\"col\\\">{{ 'user-allocations.issued' | translate }}</th>\\n                        <th scope=\\\"col\\\">{{ 'common.created-at' | translate }}</th>\\n                        <th scope=\\\"col\\\"></th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                    <ng-container *ngIf=\\\"itemsStream | async; let items\\\">\\n                        <ng-container *ngIf=\\\"items.length === 0; else rows\\\">\\n                            <tr>\\n                                <td class=\\\"bg-white\\\" colspan=\\\"12\\\">\\n                                    <div class=\\\"mx-auto p-3 mt-2 mb-4 text-center max-width-sm\\\">\\n                                        <img src=\\\"/img/icons/search.svg\\\" class=\\\"img-sm mb-2\\\" />\\n                                        <h4 class=\\\"mb-1\\\">{{ 'user-allocations.find-investment' | translate }}</h4>\\n                                        <p class=\\\"mb-3 text-gray\\\">{{ 'user-allocations.find-exclusive-investment' | translate }}</p>\\n                                        <button type=\\\"button\\\" class=\\\"btn btn-primary-air btn-lg btn-block\\\" [routerLink]=\\\"['/discover']\\\">\\n                                            {{ 'user-allocations.discover-now' | translate }}\\n                                        </button>\\n                                    </div>\\n                                </td>\\n                            </tr>\\n                        </ng-container>\\n                        <ng-template #rows>\\n                            <tr *ngFor=\\\"let allocation of itemsStream | async\\\" class=\\\"bg-white\\\">\\n                                <th scope=\\\"row\\\" class=\\\"w-25\\\">\\n                                    <a class=\\\"media align-items-center text-body\\\" [routerLink]=\\\"['/discover', allocation.product?.slug]\\\">\\n                                        <img [src]=\\\"buildFileUrl(allocation.product?.image) | safeUrl\\\" class=\\\"avatar avatar-md rounded mr-3\\\" />\\n                                        <div class=\\\"media-body\\\">\\n                                            <h6 class=\\\"mb-0\\\">{{ allocation.product?.name }}</h6>\\n                                            <span class=\\\"text-muted font-sm\\\">{{ allocation.id | truncate: false:7:'' }}</span>\\n                                        </div>\\n                                    </a>\\n                                </th>\\n                                <td>\\n                                    <ul class=\\\"step d-flex flex-nowrap\\\">\\n                                        <li\\n                                            class=\\\"step-item\\\"\\n                                            [ngClass]=\\\"{ active: allocation.status === 'pending', failed: allocation.status === 'cancelled' }\\\"\\n                                        >\\n                                            <a class=\\\"small\\\">{{\\n                                                (allocation.status === 'cancelled' ? 'common.cancelled' : 'common.requested') | translate\\n                                            }}</a>\\n                                        </li>\\n                                        <li class=\\\"step-item\\\">\\n                                            <a class=\\\"small\\\">{{ 'common.approved' | translate }}</a>\\n                                        </li>\\n                                        <li class=\\\"step-item\\\">\\n                                            <a class=\\\"small\\\">{{ 'user-allocations.issued' | translate }}</a>\\n                                        </li>\\n                                    </ul>\\n                                </td>\\n                                <td [ngClass]=\\\"allocation.status === 'cancelled' ? 'text-muted' : 'text-primary'\\\">\\n                                    {{ allocation.baseTransaction?.amount | amount: allocation.baseTransaction?.currency?.decimalPlaces }}\\n                                    {{ allocation.baseTransaction?.currency?.code }}\\n                                </td>\\n                                <td [ngClass]=\\\"allocation.status === 'completed' ? 'text-green' : 'text-muted'\\\">\\n                                    {{ allocation.counterTransaction?.amount | amount: allocation.counterTransaction?.currency?.decimalPlaces }}\\n                                    {{ allocation.counterTransaction?.currency?.code }}\\n                                </td>\\n                                <td class=\\\"w-15\\\">\\n                                    {{ allocation.createdAt | date: 'medium' }}\\n                                </td>\\n                                <td class=\\\"action pr-4\\\">\\n                                    <div\\n                                        ngbDropdown\\n                                        container=\\\"body\\\"\\n                                        placement=\\\"bottom-right\\\"\\n                                        #dropdown=\\\"ngbDropdown\\\"\\n                                        (click)=\\\"$event.stopPropagation()\\\"\\n                                    >\\n                                        <button class=\\\"btn-options\\\" type=\\\"button\\\" ngbDropdownToggle><fa-icon [icon]=\\\"faEllipsisV\\\"></fa-icon></button>\\n                                        <div class=\\\"dropdown-menu dropdown-menu-sm\\\" ngbDropdownMenu *ngIf=\\\"allocation.status === 'pending'\\\">\\n                                            <a href ngbDropdownItem (click)=\\\"cancel(allocation); $event.preventDefault()\\\">{{\\n                                                'common.cancel' | translate\\n                                            }}</a>\\n                                        </div>\\n                                    </div>\\n                                </td>\\n                            </tr>\\n                        </ng-template>\\n                    </ng-container>\\n                </tbody>\\n            </table>\\n        </div>\\n    </div>\\n    <footer class=\\\"table-footer\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-6 col-md-8\\\">\\n                <ng-select\\n                    [(ngModel)]=\\\"limit\\\"\\n                    dropdownPosition=\\\"auto\\\"\\n                    (change)=\\\"select(1)\\\"\\n                    [items]=\\\"limitOpts\\\"\\n                    [placeholder]=\\\"'common.show-entries-per-page' | translate\\\"\\n                    [clearable]=\\\"false\\\"\\n                    [searchable]=\\\"false\\\"\\n                    required\\n                >\\n                    <ng-template ng-label-tmp let-item=\\\"item\\\"\\n                        >{{ 'common.show' | translate }} {{ item }} {{ 'common.per-page' | translate }}</ng-template\\n                    >\\n                    <ng-template ng-option-tmp let-item=\\\"item\\\">{{ item }} entries</ng-template>\\n                </ng-select>\\n            </div>\\n            <div class=\\\"col-lg-18 col-md-16 d-flex justify-content-center justify-content-md-end mt-3 mt-md-0\\\">\\n                <ngb-pagination\\n                    [(page)]=\\\"page\\\"\\n                    [collectionSize]=\\\"count\\\"\\n                    (pageChange)=\\\"select()\\\"\\n                    [pageSize]=\\\"limit\\\"\\n                    [maxSize]=\\\"4\\\"\\n                    [rotate]=\\\"false\\\"\\n                    [boundaryLinks]=\\\"true\\\"\\n                >\\n                </ngb-pagination>\\n            </div>\\n        </div>\\n    </footer>\\n</div>\\n\";","import { Component, ElementRef, Input, OnDestroy, OnInit } from '@angular/core'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { TranslateService } from '@ngx-translate/core'\nimport { Observable } from 'rxjs'\nimport { tap } from 'rxjs/operators'\nimport { ToastrService } from '../../../common/services/toastr.service'\n\nconst ease = require('ease-component')\nconst scroll = require('scroll')\n\n@Component({\n    selector: 'product-terms',\n    templateUrl: 'product-terms.component.html',\n})\nexport class ProductTermsComponent implements OnInit, OnDestroy {\n    @Input()\n    public contentStream: Observable<string | null>\n    public isDown = false\n    private isLoaded = false\n    private modalContainer: HTMLElement\n\n    constructor(\n        private element: ElementRef,\n        private toastr: ToastrService,\n        public activeModal: NgbActiveModal,\n        public translate: TranslateService\n    ) {}\n\n    public ngOnInit(): void {\n        this.contentStream = this.contentStream.pipe(\n            tap(() => {\n                this.isLoaded = true\n                setTimeout(() => {\n                    this.scrollHandler()\n                })\n            })\n        )\n        this.modalContainer = this.element.nativeElement.querySelector('.terms-container') as HTMLElement\n        this.modalContainer.addEventListener('scroll', this.scrollHandler)\n    }\n\n    public ngOnDestroy(): void {\n        this.modalContainer.removeEventListener('scroll', this.scrollHandler)\n    }\n\n    public scrollDown(): void {\n        scroll.top(this.modalContainer, this.modalContainer.scrollHeight - this.modalContainer.clientHeight, {\n            duration: 1000,\n            ease: ease.inOutExpo,\n        })\n    }\n\n    public accept(): void {\n        if (!this.isDown) {\n            this.toastr.warning(\n                this.translate.instant('common.please-scroll-to-bottom'),\n                this.translate.instant('common.terms')\n            )\n            return\n        }\n        this.activeModal.close()\n    }\n\n    private scrollHandler = () => {\n        // 25px threshold\n        if (\n            this.isLoaded &&\n            !this.isDown &&\n            this.modalContainer.scrollTop >= this.modalContainer.scrollHeight - this.modalContainer.offsetHeight - 25\n        ) {\n            setTimeout(() => {\n                this.isDown = true\n            })\n        }\n    }\n}\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '../common/common.module'\nimport { TransactionModule } from '../common/transaction/transaction.module'\nimport { DiscoverRoutingModule } from './discover-routing.module'\nimport { DiscoverComponent } from './discover.component'\nimport { InvestmentConfirmationComponent } from './offer/investment-confirmation/investment-confirmation.component'\nimport { OfferComponent } from './offer/offer.component'\nimport { ProductTermsComponent } from './offer/product-terms/product-terms.component'\nimport { UserAllocationsComponent } from './user-allocations/user-allocations.component'\n\n@NgModule({\n    declarations: [\n        DiscoverComponent,\n        OfferComponent,\n        ProductTermsComponent,\n        InvestmentConfirmationComponent,\n        UserAllocationsComponent,\n    ],\n    imports: [CommonModule, DiscoverRoutingModule, TransactionModule],\n})\nexport class DiscoverModule {}\n","import { NgModule } from '@angular/core'\nimport { RouterModule, Routes } from '@angular/router'\nimport { LoggedInAuthGuard } from '../common/logged-in.auth-guard'\nimport { DiscoverComponent } from './discover.component'\nimport { OfferComponent } from './offer/offer.component'\nimport { UserAllocationsComponent } from './user-allocations/user-allocations.component'\n\nconst routes: Routes = [\n    {\n        path: '',\n        canActivate: [LoggedInAuthGuard],\n        children: [\n            {\n                path: '',\n                component: DiscoverComponent,\n            },\n            {\n                path: 'investments',\n                component: UserAllocationsComponent,\n            },\n            {\n                path: ':productSlug',\n                component: OfferComponent,\n            },\n        ],\n    },\n]\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class DiscoverRoutingModule {}\n","var E_NOSCROLL = new Error('Element already at target scroll position')\nvar E_CANCELLED = new Error('Scroll cancelled')\nvar min = Math.min\nvar ms = Date.now\n\nmodule.exports = {\n  left: make('scrollLeft'),\n  top: make('scrollTop')\n}\n\nfunction make (prop) {\n  return function scroll (el, to, opts, cb) {\n    opts = opts || {}\n\n    if (typeof opts == 'function') cb = opts, opts = {}\n    if (typeof cb != 'function') cb = noop\n\n    var start = ms()\n    var from = el[prop]\n    var ease = opts.ease || inOutSine\n    var duration = !isNaN(opts.duration) ? +opts.duration : 350\n    var cancelled = false\n\n    return from === to ?\n      cb(E_NOSCROLL, el[prop]) :\n      requestAnimationFrame(animate), cancel\n\n    function cancel () {\n      cancelled = true\n    }\n\n    function animate (timestamp) {\n      if (cancelled) return cb(E_CANCELLED, el[prop])\n\n      var now = ms()\n      var time = min(1, ((now - start) / duration))\n      var eased = ease(time)\n\n      el[prop] = (eased * (to - from)) + from\n\n      time < 1 ?\n        requestAnimationFrame(animate) :\n        requestAnimationFrame(function () {\n          cb(null, el[prop])\n        })\n    }\n  }\n}\n\nfunction inOutSine (n) {\n  return 0.5 * (1 - Math.cos(Math.PI * n))\n}\n\nfunction noop () {}\n"]}