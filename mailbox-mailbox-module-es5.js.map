{"version":3,"sources":["webpack:///src/app/common/logged-in.auth-guard.ts","webpack:///src/app/mailbox/mailbox.component.html","webpack:///src/app/mailbox/mailbox.module.ts","webpack:///src/app/mailbox/mailbox-routing.module.ts","webpack:///src/app/mailbox/user-mail.component.ts","webpack:///src/app/mailbox/mailbox.component.ts","webpack:///src/app/mailbox/mailbox.service.ts","webpack:///src/app/mailbox/user-mails.component.ts"],"names":["LoggedInAuthGuard","session","router","_","state","isAuthenticated","parseUrl","url","providedIn","MailboxModule","declarations","imports","providers","routes","path","component","canActivate","children","MailboxRoutingModule","forChild","exports","UserMailComponent","selector","template","MailboxComponent","MailboxService","notificationSource","onUpdate","asObservable","next","UserMailsComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAKaA,iBAAiB;AAC1B,mCAAoBC,OAApB,EAAqDC,MAArD,EAAqE;AAAA;;AAAjD,eAAAD,OAAA,GAAAA,OAAA;AAAiC,eAAAC,MAAA,GAAAA,MAAA;AAAkB;;AAD7C;AAAA;AAAA,iBAEnB,qBAAYC,CAAZ,EAAuCC,KAAvC,EAAiE;AACpE,gBAAI,CAAC,KAAKH,OAAL,CAAaI,eAAb,EAAL,EAAqC;AACjC,qBAAO,KAAKH,MAAL,CAAYI,QAAZ,CAAqB,qBAAqBF,KAAK,CAACG,GAAhD,CAAP;AACH;;AACD,mBAAO,IAAP;AACH;AAPyB;;AAAA;AAAA,S;;;;gBAHrB;;gBADqC;;;;AAIjCP,uBAAiB,6DAD7B,iEAAW;AAAEQ,kBAAU,EAAE;AAAd,OAAX,CAC6B,GAAjBR,iBAAiB,CAAjB;;;;;;;;;;;;;;;;ACLb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCcFS,aAAa;AAAA;AAAA,Q;;AAAbA,mBAAa,6DALzB,+DAAS;AACNC,oBAAY,EAAE,CAAC,mEAAD,EAAmB,wEAAnB,EAAuC,sEAAvC,CADR;AAENC,eAAO,EAAE,CAAC,kEAAD,EAAe,4EAAf,EAAqC,sEAArC,CAFH;AAGNC,iBAAS,EAAE,CAAC,+DAAD;AAHL,OAAT,CAKyB,GAAbH,aAAa,CAAb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPb,UAAMI,MAAM,GAAW,CACnB;AACIC,YAAI,EAAE,EADV;AAEIC,iBAAS,EAAE,mEAFf;AAGIC,mBAAW,EAAE,CAAC,8EAAD,CAHjB;AAIIC,gBAAQ,EAAE,CACN;AACIH,cAAI,EAAE,EADV;AAEIC,mBAAS,EAAE;AAFf,SADM,EAKN;AACID,cAAI,EAAE,SADV;AAEIC,mBAAS,EAAE;AAFf,SALM;AAJd,OADmB,CAAvB;;UAsBaG,oBAAoB;AAAA;AAAA,Q;;AAApBA,0BAAoB,6DAJhC,+DAAS;AACNP,eAAO,EAAE,CAAC,6DAAaQ,QAAb,CAAsBN,MAAtB,CAAD,CADH;AAENO,eAAO,EAAE,CAAC,4DAAD;AAFH,OAAT,CAIgC,GAApBF,oBAAoB,CAApB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCvBAG,iBAAiB;AAAA;AAAA,Q;;AAAjBA,uBAAiB,6DAJ7B,gEAAU;AACPC,gBAAQ,EAAE,YADH;AAEPC,gBAAQ;AAFD,OAAV,CAI6B,GAAjBF,iBAAiB,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAAG,gBAAgB;AAAA;AAAA,Q;;AAAhBA,sBAAgB,6DAJ5B,gEAAU;AACPF,gBAAQ,EAAE,SADH;AAEPC,gBAAQ,EAAR;AAFO,OAAV,CAI4B,GAAhBC,gBAAgB,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCFAC,cAAc;;;;AACf,eAAAC,kBAAA,GAAqB,IAAI,4CAAJ,EAArB;AACR;;AACO,eAAAC,QAAA,GAAW,KAAKD,kBAAL,CAAwBE,YAAxB,EAAX;AAKV;;AAR0B;AAAA;AAAA,iBAKhB,kBAAM;AACT,iBAAKF,kBAAL,CAAwBG,IAAxB;AACH;AAPsB;;AAAA;AAAA,S;;AAAdJ,oBAAc,6DAD1B,kEAC0B,GAAdA,cAAc,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCMAK,kBAAkB,6BAC3B,4BAAmB7B,OAAnB,EAA4C;AAAA;;AAAzB,aAAAA,OAAA,GAAAA,OAAA;AAA2B,OADnB,C;;;;gBATtB;;;;AASI6B,wBAAkB,6DAP9B,gEAAU;AACPR,gBAAQ,EAAE,YADH;AAEP;AACAC,gBAAQ;AAHD,OAAV,CAO8B,GAAlBO,kBAAkB,CAAlB","file":"mailbox-mailbox-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core'\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router'\nimport { SessionService } from './services/session.service'\n\n@Injectable({ providedIn: 'root' })\nexport class LoggedInAuthGuard implements CanActivate {\n    constructor(private session: SessionService, private router: Router) {}\n    public canActivate(_: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree {\n        if (!this.session.isAuthenticated()) {\n            return this.router.parseUrl('/login?redirect=' + state.url)\n        }\n        return true\n    }\n}\n","export default \"<section class=\\\"container pt-page\\\">\\n    <div class=\\\"row justify-content-between align-items-center pb-3\\\">\\n        <div class=\\\"col-auto\\\">\\n            <h5 class=\\\"mb-0\\\">{{ 'common.mailbox' | translate }}</h5>\\n        </div>\\n        <div class=\\\"col-auto d-flex justify-content-end\\\">\\n            <ol class=\\\"breadcrumb px-0\\\">\\n                <li class=\\\"breadcrumb-item\\\">\\n                    <a [routerLink]=\\\"['/dashboard']\\\">{{ 'common.home' | translate }}</a>\\n                </li>\\n                <li class=\\\"breadcrumb-item active\\\">{{ 'common.mailbox' | translate }}</li>\\n            </ol>\\n        </div>\\n    </div>\\n    <router-outlet></router-outlet>\\n</section>\\n\";","import { NgModule } from '@angular/core'\nimport { CommonModule } from '../common/common.module'\nimport { MailsModule } from '../common/mails/mails.module'\nimport { MailboxRoutingModule } from './mailbox-routing.module'\nimport { MailboxComponent } from './mailbox.component'\nimport { MailboxService } from './mailbox.service'\nimport { UserMailComponent } from './user-mail.component'\nimport { UserMailsComponent } from './user-mails.component'\n\n@NgModule({\n    declarations: [MailboxComponent, UserMailsComponent, UserMailComponent],\n    imports: [CommonModule, MailboxRoutingModule, MailsModule],\n    providers: [MailboxService],\n})\nexport class MailboxModule {}\n","import { NgModule } from '@angular/core'\nimport { RouterModule, Routes } from '@angular/router'\nimport { LoggedInAuthGuard } from '../common/logged-in.auth-guard'\nimport { MailboxComponent } from './mailbox.component'\nimport { UserMailComponent } from './user-mail.component'\nimport { UserMailsComponent } from './user-mails.component'\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: MailboxComponent,\n        canActivate: [LoggedInAuthGuard],\n        children: [\n            {\n                path: '',\n                component: UserMailsComponent,\n            },\n            {\n                path: ':mailId',\n                component: UserMailComponent,\n            },\n        ],\n    },\n]\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class MailboxRoutingModule {}\n","import { Component } from '@angular/core'\n\n@Component({\n    selector: 'user-mails',\n    template: ` <mail [markAsRead]=\"true\"></mail> `,\n})\nexport class UserMailComponent {}\n","import { Component } from '@angular/core'\n\n@Component({\n    selector: 'mailbox',\n    templateUrl: 'mailbox.component.html',\n})\nexport class MailboxComponent {}\n","import { Injectable } from '@angular/core'\nimport { Subject } from 'rxjs'\n\n@Injectable()\nexport class MailboxService {\n    private notificationSource = new Subject<void>()\n    /* eslint-disable-next-line @typescript-eslint/member-ordering */\n    public onUpdate = this.notificationSource.asObservable()\n\n    public notify(): void {\n        this.notificationSource.next()\n    }\n}\n","import { Component } from '@angular/core'\nimport { SessionService } from '../common/services/session.service'\n\n@Component({\n    selector: 'user-mails',\n    // eslint-disable-next-line @angular-eslint/component-max-inline-declarations\n    template: `\n        <ng-container *ngIf=\"session.userStream | async; let user\"><mails [user]=\"user\"></mails></ng-container>\n    `,\n})\nexport class UserMailsComponent {\n    constructor(public session: SessionService) {}\n}\n"]}